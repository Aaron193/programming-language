function makeAdder(n) {
  function addOne(x) {
    return n + x;
  }
  return addOne;
}

auto funcs = [];

auto start = clock();

for (auto i = 0; i < 10000; i++) {
  funcs.push(makeAdder(i));
}

auto sum = 0;
for (auto i = 0; i < funcs.size(); i++) {
  sum += funcs[i](1);
}

auto elapsed = clock() - start;

print sum;
print elapsed;
